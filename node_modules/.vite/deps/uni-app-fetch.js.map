{
  "version": 3,
  "sources": ["../../uni-app-fetch/dist/index.js", "dep:uni-app-fetch"],
  "sourcesContent": ["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createUniFetch = void 0;\r\nfunction createUniFetch(config) {\r\n    var _a, _b;\r\n    // \u8BB0\u5F55 loading \u7684\u72B6\u6001\r\n    const loadingQueue = [];\r\n    /**\r\n     * uni-request \u5C01\u88C5\r\n     * @param options\r\n     * @returns\r\n     */\r\n    const uniFetch = (options) => {\r\n        // \u5904\u7406\u57FA\u7840\u8DEF\u5F84\r\n        if (!options.url.startsWith('http') && uniFetch.baseURL) {\r\n            options.url = uniFetch.baseURL + options.url;\r\n        }\r\n        // \u8C03\u7528\u8BF7\u6C42\u62E6\u622A\u5668\r\n        uniFetch.intercept.request(options);\r\n        // \u662F\u5426\u663E\u793A\u52A0\u8F7D loading\r\n        if (!!(uniFetch === null || uniFetch === void 0 ? void 0 : uniFetch.loading) && !loadingQueue.length) {\r\n            uni.showLoading(Object.assign({}, uniFetch.loading));\r\n        }\r\n        // \u8BB0\u5F55\u8BF7\u6C42\u6B21\u6570\r\n        loadingQueue.push('loading');\r\n        // \u5305\u88C5 Promise \u5BF9\u8C61\r\n        return new Promise((resolve, reject) => {\r\n            uni.request(Object.assign(Object.assign({}, options), { success: (result) => {\r\n                    // \u8C03\u7528\u54CD\u5E94\u62E6\u622A\u5668\r\n                    resolve(uniFetch.intercept.response(Object.assign(Object.assign({}, result), { config: options })));\r\n                }, fail: reject, complete: () => {\r\n                    // \u8BB0\u5F55\u7ED3\u675F\u7684\u8BF7\u6C42\u6570\u91CF\r\n                    loadingQueue.pop();\r\n                    // \u5173\u95ED\u52A0\u8F7D\u63D0\u793A\u6846\r\n                    if (!loadingQueue.length)\r\n                        uni.hideLoading();\r\n                } }));\r\n        });\r\n    };\r\n    /**\r\n     * \u521D\u59CB\u5316\u53C2\u6570\r\n     */\r\n    uniFetch.loading = config === null || config === void 0 ? void 0 : config.loading;\r\n    uniFetch.baseURL = config === null || config === void 0 ? void 0 : config.baseURL;\r\n    uniFetch.intercept = {\r\n        request: (options) => options,\r\n        response: (result) => result,\r\n    };\r\n    if ((_a = config === null || config === void 0 ? void 0 : config.intercept) === null || _a === void 0 ? void 0 : _a.request) {\r\n        uniFetch.intercept.request = config.intercept.request;\r\n    }\r\n    if ((_b = config === null || config === void 0 ? void 0 : config.intercept) === null || _b === void 0 ? void 0 : _b.response) {\r\n        uniFetch.intercept.response = config.intercept.response;\r\n    }\r\n    // \u5FEB\u6377\u8BF7\u6C42\u65B9\u6CD5\r\n    uniFetch.get = function (url, data = {}) {\r\n        return uniFetch({ url, method: 'GET', data });\r\n    };\r\n    uniFetch.post = function (url, data = {}) {\r\n        return uniFetch({ url, method: 'POST', data });\r\n    };\r\n    uniFetch.put = function (url, data = {}) {\r\n        return uniFetch({ url, method: 'PUT', data });\r\n    };\r\n    uniFetch.delete = function (url, data) {\r\n        return uniFetch({ url, method: 'DELETE', data });\r\n    };\r\n    return uniFetch;\r\n}\r\nexports.createUniFetch = createUniFetch;\r\nexports.default = createUniFetch();\r\n", "export default require(\"./node_modules/uni-app-fetch/dist/index.js\");"],
  "mappings": ";;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA,WAAO,eAAe,SAAS,cAAc,EAAE,OAAO,KAAK,CAAC;AAC5D,YAAQ,iBAAiB;AACzB,4BAAwB,QAAQ;AAC5B,UAAI,IAAI;AAER,YAAM,eAAe,CAAC;AAMtB,YAAM,WAAW,CAAC,YAAY;AAE1B,YAAI,CAAC,QAAQ,IAAI,WAAW,MAAM,KAAK,SAAS,SAAS;AACrD,kBAAQ,MAAM,SAAS,UAAU,QAAQ;AAAA,QAC7C;AAEA,iBAAS,UAAU,QAAQ,OAAO;AAElC,YAAI,CAAC,CAAE,cAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,YAAY,CAAC,aAAa,QAAQ;AAClG,cAAI,YAAY,OAAO,OAAO,CAAC,GAAG,SAAS,OAAO,CAAC;AAAA,QACvD;AAEA,qBAAa,KAAK,SAAS;AAE3B,eAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpC,cAAI,QAAQ,OAAO,OAAO,OAAO,OAAO,CAAC,GAAG,OAAO,GAAG,EAAE,SAAS,CAAC,WAAW;AAErE,oBAAQ,SAAS,UAAU,SAAS,OAAO,OAAO,OAAO,OAAO,CAAC,GAAG,MAAM,GAAG,EAAE,QAAQ,QAAQ,CAAC,CAAC,CAAC;AAAA,UACtG,GAAG,MAAM,QAAQ,UAAU,MAAM;AAE7B,yBAAa,IAAI;AAEjB,gBAAI,CAAC,aAAa;AACd,kBAAI,YAAY;AAAA,UACxB,EAAE,CAAC,CAAC;AAAA,QACZ,CAAC;AAAA,MACL;AAIA,eAAS,UAAU,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO;AAC1E,eAAS,UAAU,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO;AAC1E,eAAS,YAAY;AAAA,QACjB,SAAS,CAAC,YAAY;AAAA,QACtB,UAAU,CAAC,WAAW;AAAA,MAC1B;AACA,UAAK,MAAK,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG,SAAS;AACzH,iBAAS,UAAU,UAAU,OAAO,UAAU;AAAA,MAClD;AACA,UAAK,MAAK,WAAW,QAAQ,WAAW,SAAS,SAAS,OAAO,eAAe,QAAQ,OAAO,SAAS,SAAS,GAAG,UAAU;AAC1H,iBAAS,UAAU,WAAW,OAAO,UAAU;AAAA,MACnD;AAEA,eAAS,MAAM,SAAU,KAAK,OAAO,CAAC,GAAG;AACrC,eAAO,SAAS,EAAE,KAAK,QAAQ,OAAO,KAAK,CAAC;AAAA,MAChD;AACA,eAAS,OAAO,SAAU,KAAK,OAAO,CAAC,GAAG;AACtC,eAAO,SAAS,EAAE,KAAK,QAAQ,QAAQ,KAAK,CAAC;AAAA,MACjD;AACA,eAAS,MAAM,SAAU,KAAK,OAAO,CAAC,GAAG;AACrC,eAAO,SAAS,EAAE,KAAK,QAAQ,OAAO,KAAK,CAAC;AAAA,MAChD;AACA,eAAS,SAAS,SAAU,KAAK,MAAM;AACnC,eAAO,SAAS,EAAE,KAAK,QAAQ,UAAU,KAAK,CAAC;AAAA,MACnD;AACA,aAAO;AAAA,IACX;AACA,YAAQ,iBAAiB;AACzB,YAAQ,UAAU,eAAe;AAAA;AAAA;;;ACtEjC;AAAA,IAAO,wBAAQ;",
  "names": []
}
